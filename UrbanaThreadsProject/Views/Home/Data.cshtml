@{
    ViewData["Title"] = "Analytics";
}

<style>
    main {
        padding-top: 6rem;
        padding-bottom: 4rem;
    }

    .navbar {
        background: #fff;
        box-shadow: 0 2px 8px rgba(0,0,0,.05);
    }

    .filter-panel {
        background: #fff;
        border-radius: 12px;
        padding: 1rem 1.5rem;
        margin-bottom: 2rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .btn-urbana {
        background: #28e0b9;
        color: #fff;
        font-weight: 600;
        border: none;
    }

    .chart-card {
        background: #fff;
        border-radius: 16px;
        padding: 1rem;
        box-shadow: 0 3px 10px rgba(0,0,0,0.06);
    }

    canvas {
        width: 100% !important;
        height: 250px !important;
    }
</style>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
        <a class="navbar-brand fw-bold d-flex align-items-center" asp-controller="Home" asp-action="Index">
            <img src="~/assets/logo.png" width="36" class="me-2 rounded">
            <span><span style="color:#28e0b9;">Urbana</span> Threads</span>
        </a>

        <div class="collapse navbar-collapse justify-content-end">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" asp-controller="Home" asp-action="Index">Home</a></li>
                <li class="nav-item"><a class="nav-link" asp-controller="Dashboard" asp-action="Index">Analytics</a></li>
                <li class="nav-item"><a class="nav-link" asp-controller="Home" asp-action="About">About Us</a></li>
                <li class="nav-item"><a class="nav-link" asp-controller="Bot" asp-action="Index">Assistant</a></li>
            </ul>
        </div>
    </div>
</nav>

<main class="container">
    <h2 class="text-center mb-4 fw-semibold">Inventory Insights Dashboard</h2>

    <!-- FILTER PANEL -->
    <div class="filter-panel">
        <form class="row g-3 align-items-end">
            <div class="col-md-4">
                <label class="form-label">Category</label>
                <select id="filterCategory" class="form-select"></select>
            </div>

            <div class="col-md-3">
                <button type="button" id="applyFilters" class="btn btn-urbana w-100">Apply</button>
            </div>
        </form>
    </div>

    <!-- CHARTS -->
    <div class="row g-4 text-center">

        <div class="col-md-6 col-lg-4">
            <div class="chart-card">
                <h6>Inventory by Category</h6>
                <canvas id="inventoryDistribution"></canvas>
            </div>
        </div>

        <div class="col-md-6 col-lg-4">
            <div class="chart-card">
                <h6>Stock by Product</h6>
                <canvas id="stockByProduct"></canvas>
            </div>
        </div>

        <div class="col-md-6 col-lg-4">
            <div class="chart-card">
                <h6>Inventory Value ($)</h6>
                <canvas id="inventoryValue"></canvas>
            </div>
        </div>
        <div class="col-md-6 col-lg-6">
            <div class="chart-card">
                 <h6>Monthly Sales Trend</h6>
                 <canvas id="monthlySales"></canvas>
            </div>
        </div>

        <div class="col-md-6 col-lg-6">
            <div class="chart-card">
                <h6>Top Selling Products</h6>
                 <canvas id="topProducts"></canvas>
            </div>
        </div>

        <div class="col-md-12">
            <div class="chart-card">
                <h6>Low Stock Products</h6>
                <ul id="lowStockList" class="list-group text-start"></ul>
            </div>
        </div>

    </div>

</main>

<footer class="py-4 text-center">
    <div class="container">© 2025 Urbana Threads · Inventory Dashboard</div>
</footer>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="~/js/charts.js"></script>
}

